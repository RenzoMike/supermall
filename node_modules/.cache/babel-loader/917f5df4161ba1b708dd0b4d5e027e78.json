{"ast":null,"code":"import { ADD_COUNTER, ADD_TO_CART } from './mutations-type';\nexport default {\n  [ADD_TO_CART](context, payload) {\n    // payload新添加的商品\n    // 创建新的变量存储item\n\n    /*let oldProduct = null\n    // 判断购物车里面有没有在cartList里面存在\n    for (let item in state.cartList) {\n      // 判断id是否存在\n      if (item.iid === payload.iid) {\n        oldProduct = item\n      }\n    }*/\n    // 查找数组种是否有该商品\n    let oldproduct = context.state.cartList.find(item => item.iid === payload.iid); // 如果已存在\n\n    if (oldproduct) {\n      context.commit('addCounter', oldproduct);\n    } else {\n      context.commit('addToCart', payload); // 否则\n    }\n  }\n\n};","map":{"version":3,"names":["ADD_COUNTER","ADD_TO_CART","context","payload","oldproduct","state","cartList","find","item","iid","commit"],"sources":["/Users/bujidefeng/Desktop/Vue_Code/17 mall/supermall/src/store/actions.js"],"sourcesContent":["import { ADD_COUNTER, ADD_TO_CART } from './mutations-type'\n\nexport default {\n  [ADD_TO_CART] (context, payload) {\n    // payload新添加的商品\n    // 创建新的变量存储item\n    /*let oldProduct = null\n    // 判断购物车里面有没有在cartList里面存在\n    for (let item in state.cartList) {\n      // 判断id是否存在\n      if (item.iid === payload.iid) {\n        oldProduct = item\n      }\n    }*/\n    // 查找数组种是否有该商品\n    let oldproduct = context.state.cartList.find(item => item.iid === payload.iid)\n\n    // 如果已存在\n    if (oldproduct) {\n      context.commit('addCounter', oldproduct)\n\n    } else {\n      context.commit('addToCart', payload)\n      // 否则\n\n\n    }\n  }\n}"],"mappings":"AAAA,SAASA,WAAT,EAAsBC,WAAtB,QAAyC,kBAAzC;AAEA,eAAe;EACb,CAACA,WAAD,EAAeC,OAAf,EAAwBC,OAAxB,EAAiC;IAC/B;IACA;;IACA;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;IACI;IACA,IAAIC,UAAU,GAAGF,OAAO,CAACG,KAAR,CAAcC,QAAd,CAAuBC,IAAvB,CAA4BC,IAAI,IAAIA,IAAI,CAACC,GAAL,KAAaN,OAAO,CAACM,GAAzD,CAAjB,CAZ+B,CAc/B;;IACA,IAAIL,UAAJ,EAAgB;MACdF,OAAO,CAACQ,MAAR,CAAe,YAAf,EAA6BN,UAA7B;IAED,CAHD,MAGO;MACLF,OAAO,CAACQ,MAAR,CAAe,WAAf,EAA4BP,OAA5B,EADK,CAEL;IAGD;EACF;;AAzBY,CAAf"},"metadata":{},"sourceType":"module"}