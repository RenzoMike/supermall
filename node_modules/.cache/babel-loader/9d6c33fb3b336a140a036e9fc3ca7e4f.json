{"ast":null,"code":"import Vue from 'vue';\nimport Vuex from 'vuex';\nimport mutations from './mutations';\nVue.use(Vuex);\nexport default new Vuex.Store({\n  state: {\n    cartList: []\n  },\n  mutations,\n  actions: {\n    addCart(context, payload) {\n      // payload新添加的商品\n      // 创建新的变量存储item\n\n      /*let oldProduct = null\n      // 判断购物车里面有没有在cartList里面存在\n      for (let item in state.cartList) {\n        // 判断id是否存在\n        if (item.iid === payload.iid) {\n          oldProduct = item\n        }\n      }*/\n      // 查找数组种是否有该商品\n      let oldproduct = context.state.cartList.find(item => item.iid === payload.iid); // 如果已存在\n\n      if (oldproduct) {\n        context.commit('addCounter', oldproduct);\n      } else {\n        context.commit('addToCart', payload); // 否则\n      }\n    }\n\n  }\n});","map":{"version":3,"names":["Vue","Vuex","mutations","use","Store","state","cartList","actions","addCart","context","payload","oldproduct","find","item","iid","commit"],"sources":["/Users/bujidefeng/Desktop/Vue_Code/17 mall/supermall/src/store/index.js"],"sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nimport mutations from './mutations'\nVue.use(Vuex)\n\nexport default new Vuex.Store({\n  state: {\n    cartList: []\n  },\n  mutations,\n  actions: {\n    addCart (context, payload) {\n      // payload新添加的商品\n      // 创建新的变量存储item\n      /*let oldProduct = null\n      // 判断购物车里面有没有在cartList里面存在\n      for (let item in state.cartList) {\n        // 判断id是否存在\n        if (item.iid === payload.iid) {\n          oldProduct = item\n        }\n      }*/\n      // 查找数组种是否有该商品\n      let oldproduct = context.state.cartList.find(item => item.iid === payload.iid)\n\n      // 如果已存在\n      if (oldproduct) {\n        context.commit('addCounter', oldproduct)\n\n      } else {\n        context.commit('addToCart', payload)\n        // 否则\n\n\n      }\n    }\n  }\n})"],"mappings":"AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,OAAOC,SAAP,MAAsB,aAAtB;AACAF,GAAG,CAACG,GAAJ,CAAQF,IAAR;AAEA,eAAe,IAAIA,IAAI,CAACG,KAAT,CAAe;EAC5BC,KAAK,EAAE;IACLC,QAAQ,EAAE;EADL,CADqB;EAI5BJ,SAJ4B;EAK5BK,OAAO,EAAE;IACPC,OAAO,CAAEC,OAAF,EAAWC,OAAX,EAAoB;MACzB;MACA;;MACA;AACN;AACA;AACA;AACA;AACA;AACA;AACA;MACM;MACA,IAAIC,UAAU,GAAGF,OAAO,CAACJ,KAAR,CAAcC,QAAd,CAAuBM,IAAvB,CAA4BC,IAAI,IAAIA,IAAI,CAACC,GAAL,KAAaJ,OAAO,CAACI,GAAzD,CAAjB,CAZyB,CAczB;;MACA,IAAIH,UAAJ,EAAgB;QACdF,OAAO,CAACM,MAAR,CAAe,YAAf,EAA6BJ,UAA7B;MAED,CAHD,MAGO;QACLF,OAAO,CAACM,MAAR,CAAe,WAAf,EAA4BL,OAA5B,EADK,CAEL;MAGD;IACF;;EAzBM;AALmB,CAAf,CAAf"},"metadata":{},"sourceType":"module"}