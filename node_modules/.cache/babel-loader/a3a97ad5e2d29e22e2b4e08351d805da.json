{"ast":null,"code":"// 滚动插件\nimport BScroll from '@better-scroll/core';\nimport Pullup from '@better-scroll/pull-up';\nBScroll.use(Pullup);\nexport default {\n  name: 'Category',\n\n  data() {\n    return {\n      isPullUpLoad: false,\n      data: 30\n    };\n  },\n\n  methods: {\n    initBscroll() {\n      this.bscroll = new BScroll('.wrapper', {\n        pullUpLoad: true\n      });\n      this.bscroll.on('pullingUp', this.pullingUpHandler);\n    },\n\n    async pullingUpHandler() {\n      this.isPullUpLoad = true;\n      await this.requestData();\n      this.bscroll.finishPullUp();\n      this.bscroll.refresh();\n      this.isPullUpLoad = false;\n    },\n\n    async requestData() {\n      try {\n        const newData = await this.ajaxGet();\n        this.data += newData;\n      } catch (err) {\n        // handle err\n        console.log(err);\n      }\n    },\n\n    ajaxGet() {\n      return new Promise(resolve => {\n        setTimeout(() => {\n          resolve(20);\n        }, 1000);\n      });\n    }\n\n  },\n\n  created() {},\n\n  mounted() {\n    this.initBscroll();\n  },\n\n  computed: {}\n};","map":{"version":3,"mappings":"AAsHA;AACA;AACA;AAEAA;AAEA;EACAC,gBADA;;EAEAC;IACA;MACAC,mBADA;MAEAD;IAFA;EAIA,CAPA;;EAQAE;IACAC;MACA;QACAC;MADA;MAIA;IACA,CAPA;;IAQA;MACA;MAEA;MAEA;MACA;MACA;IACA,CAhBA;;IAiBA;MACA;QACA;QACA;MACA,CAHA,CAGA;QACA;QACAC;MACA;IACA,CAzBA;;IA0BAC;MACA;QACAC;UACAC;QACA,CAFA,EAEA,IAFA;MAGA,CAJA;IAKA;;EAhCA,CARA;;EA0CAC,WAEA,CA5CA;;EA6CAC;IACA;EACA,CA/CA;;EAgDAC;AAhDA","names":["BScroll","name","data","isPullUpLoad","methods","initBscroll","pullUpLoad","console","ajaxGet","setTimeout","resolve","created","mounted","computed"],"sourceRoot":"src/views/category","sources":["Category.vue"],"sourcesContent":["<template>\n  <div class=\"wrapper\">\n    <ul class=\"content\">\n      <li>1</li>\n      <li>2</li>\n      <li>3</li>\n      <li>4</li>\n      <li>5</li>\n      <li>6</li>\n      <li>7</li>\n      <li>8</li>\n      <li>9</li>\n      <li>10</li>\n      <li>11</li>\n      <li>12</li>\n      <li>13</li>\n      <li>14</li>\n      <li>15</li>\n      <li>16</li>\n      <li>17</li>\n      <li>18</li>\n      <li>19</li>\n      <li>20</li>\n      <li>21</li>\n      <li>22</li>\n      <li>23</li>\n      <li>24</li>\n      <li>25</li>\n      <li>26</li>\n      <li>27</li>\n      <li>28</li>\n      <li>29</li>\n      <li>30</li>\n      <li>31</li>\n      <li>32</li>\n      <li>33</li>\n      <li>34</li>\n      <li>35</li>\n      <li>36</li>\n      <li>37</li>\n      <li>38</li>\n      <li>39</li>\n      <li>40</li>\n      <li>41</li>\n      <li>42</li>\n      <li>43</li>\n      <li>44</li>\n      <li>45</li>\n      <li>46</li>\n      <li>47</li>\n      <li>48</li>\n      <li>49</li>\n      <li>50</li>\n      <li>51</li>\n      <li>52</li>\n      <li>53</li>\n      <li>54</li>\n      <li>55</li>\n      <li>56</li>\n      <li>57</li>\n      <li>58</li>\n      <li>59</li>\n      <li>60</li>\n      <li>61</li>\n      <li>62</li>\n      <li>63</li>\n      <li>64</li>\n      <li>65</li>\n      <li>66</li>\n      <li>67</li>\n      <li>68</li>\n      <li>69</li>\n      <li>70</li>\n      <li>71</li>\n      <li>72</li>\n      <li>73</li>\n      <li>74</li>\n      <li>75</li>\n      <li>76</li>\n      <li>77</li>\n      <li>78</li>\n      <li>79</li>\n      <li>80</li>\n      <li>81</li>\n      <li>82</li>\n      <li>83</li>\n      <li>84</li>\n      <li>85</li>\n      <li>86</li>\n      <li>87</li>\n      <li>88</li>\n      <li>89</li>\n      <li>90</li>\n      <li>91</li>\n      <li>92</li>\n      <li>93</li>\n      <li>94</li>\n      <li>95</li>\n      <li>96</li>\n      <li>97</li>\n      <li>98</li>\n      <li>99</li>\n      <li>100</li>\n      <li>101</li>\n      <li>102</li>\n      <li>103</li>\n      <li>104</li>\n      <li>105</li>\n      <li>106</li>\n      <li>107</li>\n      <li>108</li>\n      <li>109</li>\n      <li>110</li>\n    </ul>\n  </div>\n</template>\n\n<script>\n// 滚动插件\nimport BScroll from '@better-scroll/core'\nimport Pullup from '@better-scroll/pull-up'\n\nBScroll.use(Pullup)\n\nexport default {\n  name: 'Category',\n  data () {\n    return {\n      isPullUpLoad: false,\n      data: 30\n    }\n  },\n  methods: {\n    initBscroll () {\n      this.bscroll = new BScroll('.wrapper', {\n        pullUpLoad: true\n      })\n\n      this.bscroll.on('pullingUp', this.pullingUpHandler)\n    },\n    async pullingUpHandler () {\n      this.isPullUpLoad = true\n\n      await this.requestData()\n\n      this.bscroll.finishPullUp()\n      this.bscroll.refresh()\n      this.isPullUpLoad = false\n    },\n    async requestData () {\n      try {\n        const newData = await this.ajaxGet(/* url */)\n        this.data += newData\n      } catch (err) {\n        // handle err\n        console.log(err)\n      }\n    },\n    ajaxGet (/* url */) {\n      return new Promise(resolve => {\n        setTimeout(() => {\n          resolve(20)\n        }, 1000)\n      })\n    }\n  },\n  created () {\n\n  },\n  mounted () {\n    this.initBscroll()\n  },\n  computed: {\n\n  },\n}\n</script>\n\n<style scoped>\n.wrapper {\n  height: 200px;\n  overflow: hidden;\n  background-color: pink;\n}\n</style>\n"]},"metadata":{},"sourceType":"module"}